<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Гонки</title>
</head>
<body>
    <script src="https://code.jquery.com/jquery-2.1.0.js"></script>
    <h1>hhhg</h1>
    <canvas id="canvas" width="400" height="400"></canvas>

    <script>
   var canvas = document.getElementById("canvas")
   var ctx = canvas.getContext("2d")
   var width = canvas.width
   var height = canvas.height

   var circle = function(x, y, radius, fillCircle) {
       ctx.beginPath()
       ctx.arc(x, y, radius, Math.PI * 2, false)
       if(fillCircle) {
           ctx.fill()
       } else {
           ctx.stroke()
       }
   }
   var Ball = function() {
       this.x = width/2
       this.y = height/2
       this.xSpeed = 5
       this.ySpeed = 0
       this.speed = 5
   }
     Ball.prototype.move = function() {
         this.x += this.xSpeed
         this.y += this.ySpeed
         if(this.x < 15) {
            this.xSpeed = this.speed
            this.ySpeed = 0
         } else if (this.x > width - 15) {
            this.xSpeed = -this.speed
            this.ySpeed = 0 
         }
         if(this.y < 15) {
            this.xSpeed = 0
            this.ySpeed = this.speed
         } else if (this.y > height - 15) {
            this.xSpeed = 0
            this.ySpeed = -this.speed
         }
     }
     Ball.prototype.draw = function() {
         circle(this.x, this.y, 10, true)
     }
     Ball.prototype.setDirection = function(direction) {
         if(direction === "up"){
             this.xSpeed = 0
             this.ySpeed = -this.speed
         } else if (direction === "down") {
             this.xSpeed = 0
             this.ySpeed = this.speed
         }else if (direction === "left") {
             this.xSpeed = -this.speed
             this.ySpeed = 0
         } else if (direction === "right") {
             this.xSpeed = this.speed
             this.ySpeed = 0
         }else if(direction === "stop") {
             this.xSpeed = 0
             this.ySpeed = 0
         }
     }
    
     var ball = new Ball()
     var keyActions = {
         32: "stop",
         37: "left",
         38: "up",
        39: "right",
        40: "down"
     }
     var speeds = {
         49: 1,
         50: 2,
         51: 3,
         52: 4,
         53: 5,
         54: 6,
         55: 7,
         56: 8,
         57: 9
     }
     Ball.prototype.setSpeed = function(event) {
        this.speed = speeds[event.keyCode]
    }
     $("body").keydown(function(event) {
         var direction = keyActions[event.keyCode]
         ball.setDirection(direction)
         ball.setSpeed(event)
     })
     setInterval(function() {
         ctx.clearRect(0, 0, width, height)
         ball.draw()
         ball.move()
         ctx.strokeRect(0, 0, width, height)
     }, 30)
     
     






    </script>
</body>
</html>